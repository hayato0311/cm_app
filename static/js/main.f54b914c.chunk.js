(this.webpackJsonpcm_app=this.webpackJsonpcm_app||[]).push([[0],{27:function(e,t,a){e.exports=a(49)},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABQCAYAAADvCdDvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAvZJREFUeNrsm79q21AUh6/iDoEEagKFbBX0AewxWzR2i8Zs8RvUazf3Ddw3cN5A2TKmY6c6D1BQtkKHqBAC3XpPewQmyLWwJZ3flX8fXDwEfB19Oufcv84RQgghhBBCCCEEhyjEH/3u9M3IfyS+jX2LX/w515Z9//HznkLak/Daf0x8m1ZIWIeIWfg293J+UUhzMq7kofo23PIrCpXyiUJ2jwp5w9OGvnIpUYacyiJwGXdaJ5pEoiVBlRLtmQx4KQegAZK1KMNpLcpUPIVsiI4POqRtm1jrE1PWhlSV7zCa2gZJXV8YIdXMOpZR9smUtYaJQZ+Jzvwp5EW6ujCIDssXAT5Ckj3tG1bIeE/7ZoSsSZkjCsFiSCGEQiikPrlx/0sKwRFSoOwoIgm529O+YYVkFAIkRDeLrNLWgkKqmVnIQDqRAreF62fM31x3SxmylTv2Qh4YIeuZdhmRSDKEAZqNx6fnh5PjI3lz33eQqj6i/f8DwAgRKV+9lLjF1CWTwEvfz28KqS/lxkuRBb+zFobXKerRUvijpLqTKMPSJlZjZ+jHSUM52yunUeRs72SHid8ErYAHK2RFzFv375zvpEZ9yTU9zUMQEaSQiqgp74fEK/MKKdh5SBIIIb1NWXoYoUxVyX/mGVJDlkjHRPs0yjrXQp5uMfwtdJQldw6vKWQ3EXKVbebq3ymsI2fugO8col7YudAHF7fURaGTxM8Usnkou3DN3SnchNSaFGmIHAHJGOlELu6460Jn8TcIz2EAIkOK9q1vpwbdH/p2eXJ8lD8+Pd/vvRCtF7f6YCxJEaQMjGWUaerQYWAuJTKUYXGfsC5jqyvTlnvqGaiMv7/N6sr0gVF0XDmgW0sVxM7oMmhkIAM5VZmnLosImQYiw+lqQX8jJLDoMImSriMkDUxGGdG9TVlTFx5pL4Ws7IGHxlBXE3oXIYkLl4RCwAp7H4WMGSFYQmJHKKTBQcl5X2fqhELC4RVHWbVZ8nUhhBBCCCGEENI6fwQYAA8F2YeDNP+QAAAAAElFTkSuQmCC"},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(8),s=a.n(c),o=a(3),l=a(21),u=a(4),i=a(11),m=a(22),p=a.n(m),d=a(17),f=a.n(d),A=a(2),g="SET_CURRENT_USER",b="SET_TARGET_USER",E={tetsu:{id:1,name:"tetsu",img:"https://2.bp.blogspot.com/--7P6wnqqhKs/Vf-al_FzDEI/AAAAAAAAyHs/95mdc0mfka8/s800/icon_business_man01.png",clapRest:100,clapped:0,clap_history:[]},sota:{id:2,name:"sota",img:"https://3.bp.blogspot.com/-B-xk9ZeFe4A/Vf-amDqeQmI/AAAAAAAAyHw/8oOgEX6foYc/s800/icon_business_man02.png",clapRest:100,clapped:0,clap_history:[]},tadashi:{id:3,name:"tadashi",img:"https://2.bp.blogspot.com/-amTr576Wxb8/Vf-ao4T58TI/AAAAAAAAyIQ/7I8bkC_3V_E/s800/icon_business_man07.png",clapRest:100,clapped:0,clap_history:[]},yuri:{id:4,name:"yuri",img:"https://3.bp.blogspot.com/-iOrdJELd9yc/Vf-atQQbXTI/AAAAAAAAyJo/xD5HYRbATGA/s800/icon_business_woman01.png",clapRest:100,clapped:0,clap_history:[]},nao:{id:5,name:"nao",img:"https://2.bp.blogspot.com/-uVuX45BvvQc/Vf-aut1-C0I/AAAAAAAAyJ8/zWR_FZKnmbk/s800/icon_business_woman04.png",clapRest:100,clapped:0,clap_history:[]}},h={currentUser:E.tadashi,targetUser:null},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(A.a)({},e,{currentUser:t.payload});case b:return Object(A.a)({},e,{targetUser:t.payload?t.payload:null});default:return e}},v="UPDATE_CLAP_POINTS",U=function(e,t){return Object.keys(e).forEach((function(a){e[a].id===t.clickedUser.id?e[a].clapRest-=2:e[a].id!==t.recomender.id&&e[a].id!==t.recomendedUser.id||(e[a].clapped+=1)})),Object(A.a)({},e)},j={userData:E,userList:Object.keys(E)},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(A.a)({},e,{userData:U(e.userData,t.payload)});default:return e}},O=a(26),C="ADD_ARTICLE",D="ADD_CLAP",R=a(6),k=function(e,t){return e.map((function(e){return e.id===t.articleId?e.clapHistory[t.userName]?Object(A.a)({},e,{clap:e.clap+1,clapHistory:Object(A.a)({},e.clapHistory,Object(R.a)({},t.userName,e.clapHistory[t.userName]+1))}):Object(A.a)({},e,{clap:e.clap+1,clapHistory:Object(A.a)({},e.clapHistory,Object(R.a)({},t.userName,1))}):e}))},w={postItems:[],count:0},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(A.a)({},e,{postItems:[].concat(Object(O.a)(e.postItems),[t.payload]),count:e.count+1});case D:return Object(A.a)({},e,{postItems:k(e.postItems,t.payload)});default:return e}};var H={key:"root",storage:f.a,whitelist:["user","userData","post"]},Q=Object(u.c)({user:y,userData:I,post:N}),S=Object(i.a)(H,Q),T=[p.a],_=Object(u.d)(S,u.a.apply(void 0,T)),X=Object(i.b)(_),J=(a(38),Object(o.b)((function(e){return{userList:e.userData.userList,userData:e.userData.userData,currentUser:e.user.currentUser,targetUser:e.user.targetUser}}),(function(e){return{setCurrentUser:function(t){return e(function(e){return{type:g,payload:e}}(t))}}}))((function(e){var t=e.userList,a=e.userData,r=e.currentUser,c=e.targetUser,s=e.setCurrentUser;return n.a.createElement("div",{className:"select-user"},n.a.createElement("select",{value:r.name,onChange:function(e){return s(a[e.target.value])}},t.map((function(e,t){return c&&e===c.name?null:n.a.createElement("option",{key:t+1,value:e},e)}))))}))),K=(a(39),Object(o.b)((function(e){return{currentUser:e.user.currentUser,userData:e.userData.userData}}))((function(e){var t=e.currentUser,a=e.userData[t.name],r=a.img,c=a.clapRest,s=a.clapped;return n.a.createElement("div",{className:"user-profile"},n.a.createElement("div",{className:"user"},n.a.createElement("img",{width:"90%",src:r,alt:""}),n.a.createElement(J,null)),n.a.createElement("div",{className:"clap-info"},"\u62cd\u624b\u3067\u304d\u308b\uff1a ",c," \u62cd\u624b\u3055\u308c\u305f: ",s))}))),L=a(9),F=a(10),V=a(12),Z=a(13),G=(a(40),Object(o.b)((function(e){return{currentUser:e.user.currentUser,userList:e.userData.userList,userData:e.userData.userData,targetUser:e.user.targetUser}}),(function(e){return{setTargetUser:function(t){return e(function(e){return{type:b,payload:e}}(t))}}}))((function(e){var t=e.currentUser,a=e.targetUser,r=e.userList,c=e.userData,s=e.setTargetUser;return n.a.createElement("div",{className:"select-user"},n.a.createElement("select",{value:"".concat(a?a.name:"anonymous"),onChange:function(e){return s(c[e.target.value])}},n.a.createElement("option",{key:"0",value:"anonymous"}),r.map((function(e,a){return e===t.name?null:n.a.createElement("option",{key:a+1,value:e},e)}))))}))),Y=(a(41),function(e){Object(Z.a)(r,e);var t=Object(V.a)(r);function r(e){var a;return Object(L.a)(this,r),(a=t.call(this,e)).handleCommentChange=function(e){var t=e.target.value;t.trim().length<5||null===a.props.targetUser?a.setState({newArticle:Object(A.a)({},a.state.newArticle,{comment:t}),btnHidden:!0}):a.setState({newArticle:Object(A.a)({},a.state.newArticle,{comment:t}),btnHidden:!1})},a.handleSubmit=function(){var e=new Date,t=e.getFullYear(),r=e.getMonth()+1,n=e.getDate(),c=e.getHours(),s=e.getMinutes();r=("0"+r).slice(-2),n=("0"+n).slice(-2),c=("0"+c).slice(-2),s=("0"+s).slice(-2),a.setState({newArticle:{}});var o=Object(A.a)({},a.state.newArticle,{},{uploadTime:"".concat(t,"/").concat(r,"/").concat(n," ").concat(c,":").concat(s),id:a.props.articleId,clap:0,clapHistory:{},from:{id:a.props.currentUser.id,name:a.props.currentUser.name,img:a.props.currentUser.img},to:{id:a.props.targetUser.id,name:a.props.targetUser.name,img:a.props.targetUser.img}});return a.myRef.current.value="",a.setState({btnHidden:!0}),a.props.addArticle(o)},a.state={newArticle:{comment:""},btnHidden:!0},a.myRef=n.a.createRef(),a}return Object(F.a)(r,[{key:"render",value:function(){var e=this.props.targetUser;return n.a.createElement("div",{className:"post-form"},n.a.createElement("div",{className:"post-content"},n.a.createElement("div",{className:"user"},e?n.a.createElement("img",{width:"90%",src:e.img,alt:""}):n.a.createElement("img",{width:"90%",src:a(42),alt:""}),n.a.createElement(G,null)),n.a.createElement("textarea",{ref:this.myRef,id:"post-comment",className:"comment",placeholder:"5\u6587\u5b57\u4ee5\u4e0a\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u8a18\u5165\u3057\u3066\u304f\u3060\u3055\u3044\u3002",value:this.comment,onChange:this.handleCommentChange,required:!0})),this.state.btnHidden?null:n.a.createElement("button",{type:"submit",className:"btn-square",onClick:this.handleSubmit},"\u6295\u7a3f"))}}]),r}(n.a.Component)),q=Object(o.b)((function(e){return{targetUser:e.user.targetUser,currentUser:e.user.currentUser,articleId:e.post.count,postItems:e.post.postItems}}),(function(e){return{addArticle:function(t){return e(function(e){return{type:C,payload:e}}(t))}}}))(Y),x=a(18),B=(a(46),function(e){Object(Z.a)(a,e);var t=Object(V.a)(a);function a(){var e;Object(L.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).handlerClapClicked=function(){var t=e.props,a=t.currentUser,r=t.article;return a.id===r.from.id||a.id===r.to.id?null:a.clapRest>=2&&(!Object.keys(r.clapHistory).length||!r.clapHistory[a.name]||r.clapHistory[a.name]<15)?(e.props.addClap({articleId:r.id,userName:a.name}),e.props.updateClapPoints(a,r.from,r.to)):null},e}return Object(F.a)(a,[{key:"render",value:function(){var e=this.props.article,t=[];Object.keys(e.clapHistory).forEach((function(a){t.push({userName:a,count:e.clapHistory[a]})}));var a=[n.a.createElement("p",{key:"0"},"\u62cd\u624b\u4e00\u89a7")];return t&&(t.sort((function(e,t){return e.count>t.count?-1:e.count<t.count?1:0})),console.log(t),t.forEach((function(e,t){a.push(n.a.createElement("p",{key:t+1},e.userName,":  ",e.count))}))),n.a.createElement("div",{className:"comment-item"},n.a.createElement("div",{className:"relation"},n.a.createElement("img",{height:"100%",src:e.from.img,alt:""}),n.a.createElement(x.a,{icon:["fas","arrow-right"],color:"grey"}),n.a.createElement("img",{height:"100%",src:e.to.img,alt:""})),n.a.createElement("div",{className:"comment"},e.comment),n.a.createElement("div",{className:"info"},n.a.createElement("div",null,n.a.createElement("button",{type:"button",className:"clap-button",id:e.id,onClick:this.handlerClapClicked},n.a.createElement(x.a,{id:"clap-icon",icon:["fas","sign-language"],color:"skyblue",size:"2x"})),n.a.createElement("div",{className:"tooltip"},n.a.createElement("span",{className:"clap-count"},e.clap),n.a.createElement("div",{className:"description"},a))),n.a.createElement("div",{className:"upload-time"},e.uploadTime)))}}]),a}(n.a.Component)),M=Object(o.b)((function(e){return{currentUser:e.user.currentUser}}),(function(e){return{addClap:function(t){return e(function(e){return{type:D,payload:e}}(t))},updateClapPoints:function(t,a,r){return e(function(e,t,a){return{type:v,payload:{clickedUser:e,recomender:t,recomendedUser:a}}}(t,a,r))}}}))(B),W=(a(47),Object(o.b)((function(e){return{targetUser:e.user.targetUser,currentUser:e.user.currentUser,articleId:e.post.count,postItems:e.post.postItems.sort((function(e,t){return e.id>t.id?-1:e.id<t.id?1:0}))}}))((function(e){var t=e.postItems;return n.a.createElement("div",{className:"comment-list"},t.map((function(e){return n.a.createElement(M,{key:e.id,article:e})})))}))),P=(a(48),function(e){e.count;return n.a.createElement("div",{className:"homepage"},n.a.createElement(K,null),n.a.createElement(q,null),n.a.createElement(W,null))}),z=a(7),$=a(23),ee=a(24),te=a(25);z.b.add($.a,ee.a,te.a);var ae=Object(o.b)(null)((function(){return n.a.createElement("div",null,n.a.createElement(P,null))}));s.a.render(n.a.createElement(o.a,{store:_},n.a.createElement(l.a,{persistor:X},n.a.createElement(ae,null))),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.f54b914c.chunk.js.map